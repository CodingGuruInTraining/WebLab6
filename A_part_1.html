<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mark's To-Do List</title>
    <link rel="stylesheet" type="text/css" href="lab6styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>
<body>

<script>
    $(function() {
//        Adds initial elements to the body.
        $("body").append("<input type='text' id='inputbox'>" + "<br><br>");
        $("body").append("<button id='myButton'>Press Me</button>");
        $("body").append("<button id='clearButton'>Clear</button>");
        $("body").append("<ul id='myList'></ul>");
        $("body").append("<table id='myTable'><tr><th scope='col'>Item</th><th scope='col'>Date</th></tr></table>");

        // Button click event listener.
        $("#myButton").click(function(){
            var input = $("#inputbox").val();
            console.log("textbox reads: " + input);
            $("#myList").append("<li class='not_done'>" + input + "</li>");
        });

        // Clear click event listener.
        $("#clearButton").click(function(){

            var items = $(".complete");
            for (item in items) {
                console.log(item + "<item  >> text " + item.innerHTML);
            }
            var doneDate = $(".complete").data('date');

            $("#myTable").append(
                "<tr><td>" + item + "</td><td>" + doneDate + "</td></tr>"
//                $(".complete")
            );
//            $(".complete").remove();
        });

        // List click event listener.
        $("#myList").click(function(event){
            var whatEvent = event.target;
            console.log("target text: " + whatEvent.innerHTML);
            $(whatEvent).toggleClass("complete");



            if (!$(whatEvent).data("date")) {
                $(whatEvent).data({"date": Date.now()});         // works
                console.log("no data here");
            }
            else {

                console.log("data is:" + $(whatEvent).data('date'))}         // works

        });

    })
</script>

</body>
</html>

<!--helpers:-->
<!--http://stackoverflow.com/questions/5116929/get-clicked-li-from-ul-onclick-->
